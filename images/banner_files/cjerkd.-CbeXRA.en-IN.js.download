(this.$WP=this.$WP||[]).push(["cjerkd",(e,a)=>{var n,r,i,d,o,s,l,t,c,u,m,g,p,h,b,f,_,v,T,G,I,M,C,y,S,w,H,O,k,N,j,W,z,x,D,P,R,q,A,L,$,B,E,F,U,V,K,Z={iconWrapper:"rjSeK d q",iconWrapperSmall:"ADmrQ d q",iconWrapperMedium:"jOFMI d q _T",connectImg:"VNkBD",connectImgSmall:"uUSkJ",connectImgMedium:"jaoBo _T",icon:"nIvCR d Cj",iconSmall:"gqKUw d Cj",iconMedium:"yNpzT d _T Cj"},J=({onClick:e,size:a="large",fontSize:i="large",allBlack:d,...o})=>{var s=S(),l=L.includes(s),[t]=k(o);return n(D,{variant:"secondary",size:a,onClick:e,fullWidth:!0,...t,children:[r(y,{id:"memx_mw_gating_cta",messages:"Continue with:"})," ",n("div",{className:x({[Z.iconWrapperSmall]:"small"===i},{[Z.iconWrapperMedium]:"medium"===i},{[Z.iconWrapper]:"large"===i}),children:[r(R,{src:d?"/img2/google/GoogleG/black.svg":"/img2/google/GoogleG/1color@3x.png",className:x({[Z.connectImgSmall]:"small"===i},{[Z.connectImgMedium]:"medium"===i},{[Z.connectImg]:"large"===i})}),l&&r(R,{src:"/img2/line/line_color_20.png",className:x({[Z.connectImgSmall]:"small"===i},{[Z.connectImgMedium]:"medium"===i},{[Z.connectImg]:"large"===i})}),r("div",{className:x({[Z.iconSmall]:"small"===i},{[Z.iconMedium]:"medium"===i},{[Z.icon]:"large"===i}),children:r(P,{})})]})]})},Q=(e,a,n,r)=>{var i=encodeURIComponent(e),d=encodeURIComponent(e),o=void 0===r?"":`&c=${r}`;return`https://tripadvisor.onelink.me/dIWJ?af_dp=${i}&af_web_dp=${d}&af_sub1=${a}&af_sub2=true&af_sub3=${n}&pid=website${o}`},X=e=>{var a=A(),{onClick:d,mcid:o}=e,s=c(),l=q(),{path:t}=u(),[m]=k(e),g=i(()=>{a({module:"app_download",action:"app_download_click",context:s}),d&&d(s)},[d,a,s]),p=B(`https://${l}${t}`,o,s,"GatingExperiment");return n(D,{variant:"secondary",size:"large",fullWidth:!0,onClick:g,href:p,...m,children:[r(y,{id:"open_in_the_app",messages:"Open in the app"})," "]})},Y=({headline:e,subheadline:a,...i})=>n("div",{className:N(i),children:[r("div",{className:"sHvwv _T d",children:r(O,{})}),r(j,{atlasVariant:"display-20-brand-strong",marginTop:"spacing-04",color:"onSurface",children:e}),r(j,{atlasVariant:"fixed-body-30",color:"onSurfaceVariant",marginTop:"spacing-02",children:a})]}),ee=({onShow:e,onContinueWith:a,onOpenInApp:i,mcid:d})=>{var{localize:o}=w(),s=C(e);return r(W,{children:n("div",{ref:s,children:[r(F,{headline:o.string("Log in or open in our app","hard_gate_hybrid_header"),subheadline:o.string("Read traveller reviews, plus save and compare your favourite picks.","hard_gate_subheader")}),r($,{size:"large",onClick:a,fontSize:"medium",marginTop:"spacing-04"}),r(E,{mcid:d,onClick:i,marginTop:"spacing-03"})]})})},ea=()=>{},en=({onShow:e,onDismiss:a,onAutoCancelled:i,onSuccessfulLogin:t,onGeneralSkipDismiss:c,onNotVisible:g,onOneTapHidden:p})=>{var{page:h}=u(),b=m(),{localize:f}=w(),_=C(e),[v,T]=d(null),[I,M]=d(!1),y=er(v),S=o(null);return s(()=>I?(clearTimeout(S.current),()=>{}):(S.current=setTimeout(()=>{!y&&g&&(v?g("hidden"):g("not_mounted"))},3e3),()=>{clearTimeout(S.current)}),[g,v,y,I]),s(()=>{y&&!I?M(!0):!y&&I&&p&&p()},[y,I,M,p]),n(H,{children:[r(l,{children:r(V,{onDismiss:()=>{a&&a(),G(b)},triggerNext:ea,onAutoCancelled:i||ea,enhancedGoogleOneTapGate:!0,servletName:h,suppressContextualMessage:!0,onSuccessfulLogin:t,onGeneralSkipDismiss:c,onIFrameShown:T})}),r("div",{ref:_,children:r(F,{headline:f.string("Log in to unlock your free membership","hard_gate_onetap_header"),subheadline:f.string("Read traveller reviews, plus save and compare your favourite picks.","hard_gate_subheader")})})]})},er=e=>{var[a,n]=d(!1);return s(()=>{if(e instanceof HTMLElement){var a=new IntersectionObserver(([e])=>n(e.isIntersecting));return a.observe(e),()=>{a.disconnect()}}return n(!1),()=>{}},[e]),a},ei=({onLogin:e})=>{var{login:a}=g(),o=m(),{page:s}=u(),{geoId:l,locationId:t}=p(),c=h(),{impressionKey:G}=b(),y=f(),S=_(),w=v(15e3,"MembershipHardGateBounce15s"),H=v(3e4,"MembershipHardGateBounce30s"),[O,k]=d(!I(o)),[N,j]=d(!1),W=i(()=>{w(),H()},[w,H]),z=C(W),x=i(()=>{a({flowOrigin:"login",pid:40620,flow:"CORE_COMBINED",isFullWidthMobile:!0,forceLogin:!0,closeX:!1,extraQueryParams:{funnelKey:G,page:s,geo_id:l,detail_id:t,is_dated:c}}).then(e=>{e&&y("MembershipHardGateHybrid",{userId:e.userId,newMember:!!e.hasCreatedMember,source:T(e.loginProvider)},"SuccessLogin",e.userId||void 0)}).finally(e)},[a,e,G,s,l,t,c,y]);return r("div",{ref:z,className:"MmTOI D t _U s l Za f Pk PY Px PK Gi",children:n("div",{className:"KjOWP _Z w f",children:[r("div",{className:"Mbtbi f",children:N&&O&&r(M,{onClick:()=>k(!1)})}),r("div",{className:"ZgpFj f _Z",children:O?r(K,{onShow:()=>{y("MembershipHardGateGOT")},onDismiss:()=>{S("MembershipHardGateGOT","Close"),k(!1)},onAutoCancelled:()=>{S("MembershipHardGateGOT","Close","other"),k(!1)},onSuccessfulLogin:(a,n)=>{y("MembershipHardGateGOT",{userId:n,newMember:a,source:"google"},"SuccessLogin",n),e&&e()},onGeneralSkipDismiss:(e,a)=>{y("MembershipHardGateGOT",{googleOneTapActionType:e,googleOneTapReason:a},"Error")},onNotVisible:e=>{y("MembershipHardGateGOT",{googleOneTapActionType:"not_visible",googleOneTapReason:e},"Error"),k(!1)},onOneTapHidden:()=>{j(!0)}}):r(U,{onShow:()=>{y("MembershipHardGateHybrid")},onContinueWith:()=>{S("MembershipHardGateHybrid","CTA","click","continueWith"),x()},onOpenInApp:e=>{S("MembershipHardGateHybrid","CTA","click","openInTheApp",{downloadId:e})},mcid:65389})})]})})};return[()=>{L=z(["id-ID","ja-JP","zh-TW","th-TH"]),$=J,B=Q,E=X,F=Y,U=ee,V=t(()=>a("j3bsmh")),K=en,e("default",ei)},[e=>(n=e.jsxs,r=e.jsx),e=>(i=e.useCallback,d=e.useState,o=e.useRef,s=e.useEffect,l=e.Suspense,t=e.lazy),e=>(c=e.usePageviewUid,u=e.useRoute),e=>m=e.useSessionId,e=>g=e.default,e=>(p=e.useRouteIds,h=e.useIsDated,b=e.useHardGateContext,f=e.useHardGateImpression,_=e.useHardGateInteraction,v=e.useBounceTracking,T=e.sourceFromLoginProvider),e=>(G=e.setRegDialogDismissed,I=e.shouldSuppressRegistrationDialog),e=>M=e.CloseButton,e=>C=e.useOnVisible,e=>(y=e.default,S=e.useLocale,w=e.useLocalize),e=>H=e.ErrorBoundary,e=>O=e.Logo,e=>(k=e.getMarginProps,N=e.margin),e=>j=e.default,e=>W=e.AutoFocus,e=>z=e.readOnly,e=>x=e.default,e=>D=e.default,e=>P=e.default,e=>R=e.CdnImage,e=>q=e.useDomainName,e=>A=e.useGARecorder]]},["21h32l","o4yt4q","fgwvq1","al4vil","rdycz1","igyuz7","cyrz7y","uzmmz7","3btuy0","7thqz4","83pm0d","bzl252","gw8uw6","essqvy","2r4qug","5vmpsm","fkji80","jppfwt","gjtatx","s6q22n","qlcuu5","32pwc7"]]);
